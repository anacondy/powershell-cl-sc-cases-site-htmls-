<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About & Support - Ramsey's Legal Archive</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        body { opacity: 0; transition: opacity 0.5s ease-in-out; }
        body.loaded { opacity: 1; }
    </style>
</head>
<body class="light-mode">

    <div class="mock-nav">
        <div class="left-section">
            <span class="nav-icon" onclick="history.back()">&lt;</span>
            <span class="nav-icon" onclick="history.forward()">&gt;</span>
            <span class="nav-icon" onclick="location.reload()">&#x21bb;</span>
        </div>
        <div class="center-text">Ramsey</div>
        <div class="right-section">
            <div class="theme-toggle-wrapper">
                <label class="theme-toggle">
                    <input type="checkbox" id="theme-switch">
                    <span class="slider round"></span>
                </label>
                <span>‚òÄÔ∏è/üåô</span>
            </div>
            <span class="nav-icon" onclick="window.location.href='index.html'">&#x2630;</span>
            <span class="nav-icon" onclick="window.location.href='analytics.html'">&#x2716;</span>
        </div>
    </div>

    <div class="container">
        <div class="content-card about-page">

            <h1>About & Support</h1>

            <main>
                <h2>Support This Project</h2>
                <p>Maintaining and expanding this archive takes time and resources. If you find the information valuable, please consider supporting its development through the following channels:</p>
                <ul>
                    <li><strong>Patreon:</strong> <a href="#" target="_blank">[Your Patreon Link Here]</a></li>
                    <li><strong>UPI:</strong> <a href="#" target="_blank">[Your UPI ID Here]</a></li>
                </ul>
                <div class="qr-code-box" style="margin-top: 20px; padding: 20px; text-align: center; background-color: var(--section-bg-blend); border-radius: 8px;">
                    <div style="width: 200px; height: 200px; margin: 0 auto; background-color: #ffffff; display: flex; align-items: center; justify-content: center; border-radius: 8px; padding: 10px; overflow: hidden;">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==" alt="UPI QR Code" style="width: 100%; height: 100%; object-fit: contain;" id="qr-code-img">
                    </div>
                </div>
                <div class="section-separator-line"></div>

                <h2>Feedback</h2>
                <p>Have suggestions, corrections, or found a bug? Your feedback is invaluable.</p>
                <div style="margin: 20px 0;">
                    <textarea id="feedback-text" placeholder="Enter your feedback here..." style="width: 100%; min-height: 100px; padding: 10px; border: 1px solid var(--section-separator-color); border-radius: 5px; font-family: inherit; background-color: var(--card-background); color: var(--text-color);"></textarea>
                    <button id="submit-feedback-btn" style="margin-top: 10px; padding: 10px 20px; background-color: var(--link-color); color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: 500; transition: background-color 0.3s;">Submit Feedback</button>
                    <div id="feedback-result" style="margin-top: 10px; padding: 10px; border-radius: 5px; display: none;"></div>
                </div>
                <p>Alternatively, reach out via: <a href="mailto:anujmeena2025@gmail.com">anujmeena2025@gmail.com</a></p>
                
                <div style="margin-top: 30px; padding: 20px; background-color: var(--section-bg-blend); border-radius: 8px;">
                    <p style="font-weight: 500; margin-bottom: 10px;">Your Session Trace ID:</p>
                    <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span id="trace-id" style="font-family: monospace; font-size: 1.1em; color: var(--link-color); font-weight: 500;">Generating...</span>
                        <button id="copy-trace-id" style="background: none; border: none; cursor: pointer; font-size: 1.5em; padding: 5px;" title="Copy Trace ID">üìã</button>
                    </div>
                    <div id="copy-message" style="margin-top: 10px; color: var(--link-color); font-size: 0.9em; display: none;"></div>
                </div>
                <div class="section-separator-line"></div>

                <div class="disclaimer">
                    <p class="disclaimer-heading">
                      <span class="disclaimer-case-name">Shreya Singhal <span class="v-text">v.</span> Union of India (2015)</span>
                    </p>
                    <p class="disclaimer-text">
                      The information presented on this website constitutes fair reporting and analysis of judicial pronouncements, which are matters of public record. The content herein is intended for informational and educational purposes only. In accordance with the principles upheld in *Shreya Singhal v. Union of India*, which struck down Section 66A of the Information Technology Act, 2000 as violative of Article 19(1)(a) of the Constitution, the dissemination of such information is protected under the fundamental right to freedom of speech and expression. This website does not provide legal advice, and the content should not be construed as such. Reliance on any information provided herein is solely at the user's own risk.
                    </p>
                </div>
                </main>
        </div>
    </div>

    <script>
        // Theme toggle functionality (Identical script)
        const themeSwitch = document.getElementById('theme-switch');
        const body = document.body;

        function setTheme(isLight) {
            if (isLight) {
                body.classList.remove('dark-mode');
                body.classList.add('light-mode');
            } else {
                body.classList.remove('light-mode');
                body.classList.add('dark-mode');
            }
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
        }

        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            themeSwitch.checked = (savedTheme === 'light');
            setTheme(savedTheme === 'light');
        } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            themeSwitch.checked = false;
            setTheme(false);
        } else {
            themeSwitch.checked = true;
            setTheme(true);
        }

        themeSwitch.addEventListener('change', () => {
            setTheme(themeSwitch.checked);
        });

        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (!localStorage.getItem('theme')) {
                themeSwitch.checked = !event.matches;
                setTheme(!event.matches);
            }
        });

        // Simple fade-in animation on load
        document.addEventListener('DOMContentLoaded', () => {
            document.body.classList.add('loaded');
        });

        // Session tracking
        let sessionData = {
            traceId: '',
            loginTime: null,
            device: ''
        };

        // Generate unique trace ID on page load
        function generateTraceId() {
            return 'TRC-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9).toUpperCase();
        }

        // Detect device
        function detectDevice() {
            const ua = navigator.userAgent.toLowerCase();
            if (/android/i.test(ua)) return 'Android';
            if (/iphone/i.test(ua)) return 'iOS (iPhone)';
            if (/ipad|macintosh/i.test(ua) && 'ontouchend' in document) return 'iOS (iPad)';
            if (/mac os x/i.test(ua)) return 'iOS (Mac)';
            if (/windows/i.test(ua)) return 'Windows';
            return 'Other';
        }

        // Initialize session
        sessionData.traceId = generateTraceId();
        sessionData.loginTime = new Date();
        sessionData.device = detectDevice();

        // Display trace ID
        document.getElementById('trace-id').textContent = sessionData.traceId;

        // Copy trace ID functionality
        const copyBtn = document.getElementById('copy-trace-id');
        const copyMessage = document.getElementById('copy-message');
        
        copyBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(sessionData.traceId).then(() => {
                copyBtn.textContent = '‚úì';
                copyMessage.textContent = 'Copied to clipboard!';
                copyMessage.style.display = 'block';
                
                setTimeout(() => {
                    copyBtn.textContent = 'üìã';
                    copyMessage.style.display = 'none';
                }, 2000);
            }).catch(() => {
                copyMessage.textContent = 'Failed to copy. Please copy manually.';
                copyMessage.style.display = 'block';
            });
        });

        // Track logout time
        let logoutTime = null;
        window.addEventListener('beforeunload', () => {
            logoutTime = new Date();
        });

        // Feedback submission with trace ID and session data
        const submitBtn = document.getElementById('submit-feedback-btn');
        const feedbackText = document.getElementById('feedback-text');
        const feedbackResult = document.getElementById('feedback-result');

        if (submitBtn) {
            submitBtn.addEventListener('click', () => {
                const feedback = feedbackText.value.trim();
                if (!feedback) {
                    feedbackResult.style.display = 'block';
                    feedbackResult.style.backgroundColor = '#ffebee';
                    feedbackResult.style.color = '#c62828';
                    feedbackResult.textContent = 'Please enter your feedback before submitting.';
                    return;
                }

                // Calculate duration
                const currentTime = new Date();
                const durationMs = currentTime - sessionData.loginTime;
                const durationSec = Math.floor(durationMs / 1000);
                const durationMin = Math.floor(durationSec / 60);
                const durationHour = Math.floor(durationMin / 60);
                
                let durationStr = '';
                if (durationHour > 0) {
                    durationStr = `${durationHour} hour${durationHour > 1 ? 's' : ''}`;
                } else if (durationMin > 0) {
                    durationStr = `${durationMin} min${durationMin > 1 ? 's' : ''}`;
                } else {
                    durationStr = `${durationSec} sec`;
                }

                // Prepare session details
                const sessionDetails = `
Trace ID - ${sessionData.traceId}
Session -
LOGIN - ${sessionData.loginTime.toISOString()}
LOGOUT - ${currentTime.toISOString()}
Duration - ${durationStr}
Device - ${sessionData.device}

Feedback:
${feedback}
                `.trim();

                // Create mailto link with session data
                const mailtoLink = `mailto:anujmeena2025@gmail.com?subject=Feedback from ${sessionData.traceId}&body=${encodeURIComponent(sessionDetails)}`;
                window.location.href = mailtoLink;
                
                // Display success message
                feedbackResult.style.display = 'block';
                feedbackResult.style.backgroundColor = '#e8f5e9';
                feedbackResult.style.color = '#2e7d32';
                feedbackResult.innerHTML = `<strong>Opening your email client...</strong><br>Your trace ID: <strong>${sessionData.traceId}</strong><br>Please save this ID for reference.`;
                
                // Clear the textarea
                feedbackText.value = '';
                
                // Log to console for debugging
                console.log('Feedback prepared:', {
                    traceId: sessionData.traceId,
                    feedback: feedback,
                    session: sessionData,
                    duration: durationStr
                });
            });
        }

    </script>
</body>
</html>